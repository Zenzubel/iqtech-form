"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("body");!function(){const n=document.querySelector(".form-body-js"),t=document.querySelector("#form-core"),l=t.querySelector("#input-company-name"),i=t.querySelector("#input-inn"),r=t.querySelector("#input-contact"),a=t.querySelector("#input-sity"),m=t.querySelector("#input-date"),o=(t.querySelector("#button"),document.querySelector("#complite-mess"));function c(e){e.parentElement.classList.add("error");e.parentElement.nextElementSibling.innerHTML;e===l&&(e.parentElement.nextElementSibling.innerHTML="",e.parentElement.nextElementSibling.innerHTML="Поле заполнено не корректно",e.parentElement.nextElementSibling.style.cssText="color: rgba(252, 45, 45, 1);"),e===i&&(e.parentElement.nextElementSibling.innerHTML="",e.parentElement.nextElementSibling.innerHTML="ИНН должен содержать от 10 до 12 цифр <br> Введенный ИНН не прошел проверку по контрольным цифрам",e.parentElement.nextElementSibling.style.cssText="color: rgba(252, 45, 45, 1);"),e===r&&(e.parentElement.nextElementSibling.innerHTML="",e.parentElement.nextElementSibling.innerHTML="Поле пустое",e.parentElement.nextElementSibling.style.cssText="color: rgba(252, 45, 45, 1);"),e===a&&(e.parentElement.nextElementSibling.innerHTML="",e.parentElement.nextElementSibling.innerHTML="Поле пустое",e.parentElement.nextElementSibling.style.cssText="color: rgba(252, 45, 45, 1);"),e===m&&(e.parentElement.nextElementSibling.innerHTML="",e.parentElement.nextElementSibling.innerHTML="Введите дату",e.parentElement.nextElementSibling.style.cssText="color: rgba(252, 45, 45, 1);")}function s(e){e.parentElement.classList.add("complete"),e.parentElement.nextElementSibling.innerHTML="Данные поля приняты",e.parentElement.nextElementSibling.style.cssText="color: green;"}o.addEventListener("click",()=>{o.classList.remove("active"),e.classList.remove("lock"),window.location.reload()}),t.addEventListener("submit",(async function(E){E.preventDefault();let u=function(){let e=0;const n=!!l&&l.value.trim(),t=!!i&&i.value.trim(),o=!!r&&r.value.trim(),E=!!a&&a.value.trim(),u=!!m&&m.value.trim();""===n||null===n||n.match(/[a-z]/i)?(c(l),e++):s(l);""===t||null===t||t.length<10||t.length>12?(c(i),e++):s(i);r&&(""===o||null===o?(c(r),e++):s(r));a&&(""===E||null===E?(c(a),e++):s(a));m&&(""===u||null===u?(c(m),e++):s(m));return e}(),d=new FormData(t);if(0===u){n.classList.add("sending"),e.classList.add("lock"),o.classList.add("active");let l=await fetch("sendmail.php",{method:"POST",body:d});if(l.ok){e.classList.remove("lock");await l.json();t.reset()}}}))}()});